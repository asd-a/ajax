window.Typecho={insertFileToEditor:function(b,a,c){},uploadFile:function(a){},editorResize:function(b,a){$("#"+b).resizeable({minHeight:100,afterResize:function(c){$.post(a,{size:c})}})},uploadComplete:function(a){}},function(a){a.fn.dropdownMenu=function(b){this.each(function(){var d=this,c=a.extend({menuEl:null,btnEl:null},b);a(c.btnEl,d).click(function(){return a(this).toggleClass("active"),a(c.menuEl,d).toggle(),!1})})},a.fn.resizeable=function(c){var b=a.extend({minHeight:100,afterResize:null},c);return this.each(function(){var k,j=a('<span class="resize"><i></i></span>').insertAfter(this),h=0,f=b.minHeight,p=this;function g(l){var i=m(l).y,o=k+i;return h=i,o=Math.max(f,o),textarea.css("padding-bottom",String(o-21)+"px"),textarea.innerHeight(o),o<f&&d(),!1}function d(l){var i=textarea.outerHeight();a(document).unbind("mousemove",g).unbind("mouseup",d),textarea.css("opacity",1),textarea.focus(),textarea=null,k=null,h=0,b.afterResize&&b.afterResize.call(p,i)}function m(i){return{x:i.clientX+document.documentElement.scrollLeft,y:i.clientY+document.documentElement.scrollTop}}j.bind("mousedown",{el:this},function(i){return textarea=a(i.data.el),textarea.blur(),h=m(i).y,k=textarea.innerHeight()-h,textarea.css("opacity",0.25),a(document).mousemove(g).mouseup(d),!1})})},a.fn.tableSelectable=function(c){var f=this,d=a.extend({checkEl:null,rowEl:null,selectAllEl:null,actionEl:null},c);function b(h){var h=a(h),g=a(d.checkEl,h),i=g.prop("checked");g.length&&(g.prop("checked",!i),i?h.removeClass("checked"):h.addClass("checked"))}a(d.rowEl,this).each(function(){a(d.checkEl,this).click(function(g){b(a(this).parents(d.rowEl))})}).click(function(h){var g=a(h.toElement||h.target),i=g.prop("tagName").toLowerCase();0<=a.inArray(i,["input","textarea","a","button","i"])&&"checkbox"!=g.attr("type")?h.stopPropagation():b(this)}),a(d.selectAllEl).click(function(){a(this).prop("checked")?a(d.rowEl,f).each(function(){var g=a(this);0<a(d.checkEl,this).prop("checked",!0).length&&g.addClass("checked")}):a(d.rowEl,f).each(function(){var g=a(this);0<a(d.checkEl,this).prop("checked",!1).length&&g.removeClass("checked")})}),a(d.actionEl).click(function(){var h=a(this),g=h.attr("lang");return g&&!confirm(g)||f.parents("form").attr("action",h.attr("href")).submit(),!1})}}($),function(a){a.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldY:0,build:function(b){return b=b||{},this.each(function(){var d,c,f;this.tableDnDConfig={onDragStyle:b.onDragStyle,onDropStyle:b.onDropStyle,onDragClass:b.onDragClass||"tDnD_whileDrag",onDrop:b.onDrop,onDragStart:b.onDragStart,scrollAmount:b.scrollAmount||5},a.tableDnD.makeDraggable(this),0==$("tfoot",this).length&&0<$("thead",this).length&&(c=$("thead",this),f=$("th",c).length,d=$('<tfoot><tr><td style="padding:0;height:0;line-height:0;border:none" colspan="'+f+'"></td></tr></tfoot>').insertAfter(c),"tfoot"!=(f=$("tr:last",this)).parent().prop("tagName").toLowerCase()&&(f=(c=$("td",f)).height(),c.height(f-d.outerHeight())))}),a(document).bind("mousemove",a.tableDnD.mousemove).bind("mouseup",a.tableDnD.mouseup),this},makeDraggable:function(b){for(var c=b.rows,f=b.tableDnDConfig,d=0;d<c.length;d++){$(c[d]).hasClass("nodrag")||a(c[d]).mousedown(function(g){if("TD"==g.target.tagName){return a.tableDnD.dragObject=this,a.tableDnD.currentTable=b,a.tableDnD.mouseOffset=a.tableDnD.getMouseOffset(this,g),f.onDragStart&&f.onDragStart(b,this),!1}}).css("cursor","move")}},mouseCoords:function(b){return b.pageX||b.pageY?{x:b.pageX,y:b.pageY}:{x:b.clientX+document.body.scrollLeft-document.body.clientLeft,y:b.clientY+document.body.scrollTop-document.body.clientTop}},getMouseOffset:function(c,b){b=b||window.event;c=this.getPosition(c),b=this.mouseCoords(b);return{x:b.x-c.x,y:b.y-c.y}},getPosition:function(c){var b=0,d=0;for(0==c.offsetHeight&&(c=c.firstChild);c.offsetParent;){b+=c.offsetLeft,d+=c.offsetTop,c=c.offsetParent}return{x:b+=c.offsetLeft,y:d+=c.offsetTop}},mousemove:function(d){if(null!=a.tableDnD.dragObject){var b=a(a.tableDnD.dragObject),g=a.tableDnD.currentTable.tableDnDConfig,f=a.tableDnD.mouseCoords(d),c=f.y-a.tableDnD.mouseOffset.y,d=window.pageYOffset;return document.all&&(void 0!==document.compatMode&&"BackCompat"!=document.compatMode?d=document.documentElement.scrollTop:void 0!==document.body&&(d=document.body.scrollTop)),f.y-d<g.scrollAmount?window.scrollBy(0,-g.scrollAmount):(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-(f.y-d)<g.scrollAmount&&window.scrollBy(0,g.scrollAmount),c!=a.tableDnD.oldY&&(d=c>a.tableDnD.oldY,a.tableDnD.oldY=c,g.onDragClass?b.addClass(g.onDragClass):b.css(g.onDragStyle),(c=a.tableDnD.findDropTargetRow(b,c))&&(d&&a.tableDnD.dragObject!=c?a.tableDnD.dragObject.parentNode.insertBefore(a.tableDnD.dragObject,c.nextSibling):d||a.tableDnD.dragObject==c||a.tableDnD.dragObject.parentNode.insertBefore(a.tableDnD.dragObject,c))),!1}},findDropTargetRow:function(g,d){for(var j=a.tableDnD.currentTable.rows,h=0;h<j.length;h++){var f=j[h],b=this.getPosition(f).y,c=parseInt(f.offsetHeight)/2;if(0==f.offsetHeight&&(b=this.getPosition(f.firstChild).y,c=parseInt(f.firstChild.offsetHeight)/2),b-c<d&&d<b+c){if(f==g){return null}c=a.tableDnD.currentTable.tableDnDConfig;return c.onAllowDrop?c.onAllowDrop(g,f)?f:null:$(f).hasClass("nodrop")?null:f}}return null},mouseup:function(c){var b,d;a.tableDnD.currentTable&&a.tableDnD.dragObject&&(b=a.tableDnD.dragObject,(d=a.tableDnD.currentTable.tableDnDConfig).onDragClass?a(b).removeClass(d.onDragClass):a(b).css(d.onDropStyle),a.tableDnD.dragObject=null,d.onDrop&&d.onDrop(a.tableDnD.currentTable,b),a.tableDnD.currentTable=null)},serialize:function(){if(a.tableDnD.currentTable){for(var c="",b=a.tableDnD.currentTable.id,f=a.tableDnD.currentTable.rows,d=0;d<f.length;d++){0<c.length&&(c+="&"),c+=b+"[]="+f[d].id}return c}return"Error: No Table id set, you need to set an id on your table and every row"}},a.fn.extend({tableDnD:a.tableDnD.build})}($),function(h){var a,g,d,c=(g=document.createElement("input"),d="onpaste",g.setAttribute(d,""),("function"==typeof g[d]?"paste":"input")+".mask"),j=navigator.userAgent,f=/iphone/i.test(j),i=/android/i.test(j);h.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},h.fn.extend({caret:function(k,b){var l;if(0!==this.length&&!this.is(":hidden")){return"number"==typeof k?(b="number"==typeof b?b:k,this.each(function(){this.setSelectionRange?this.setSelectionRange(k,b):this.createTextRange&&((l=this.createTextRange()).collapse(!0),l.moveEnd("character",b),l.moveStart("character",k),l.select())})):(this[0].setSelectionRange?(k=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(l=document.selection.createRange(),k=0-l.duplicate().moveStart("character",-100000),b=k+l.text.length),{begin:k,end:b})}},unmask:function(){return this.trigger("unmask")},mask:function(e,q){var r,k,l,b,o;return !e&&0<this.length?h(this[0]).data(h.mask.dataName)():(q=h.extend({placeholder:h.mask.placeholder,completed:null},q),r=h.mask.definitions,k=[],l=o=e.length,b=null,h.each(e.split(""),function(n,m){"?"==m?(o--,l=n):r[m]?(k.push(new RegExp(r[m])),null===b&&(b=k.length-1)):k.push(null)}),this.trigger("unmask").each(function(){var n=h(this),t=h.map(e.split(""),function(u,s){if("?"!=u){return r[u]?q.placeholder:u}}),w=n.val();function m(s){for(;++s<o&&!k[s];){}return s}function y(u,s){var A,z;if(!(u<0)){for(A=u,z=m(s);A<o;A++){if(k[A]){if(!(z<o&&k[A].test(t[z]))){break}t[A]=t[z],t[z]=q.placeholder,z=m(z)}}p(),n.caret(Math.max(b,u))}}function v(u,s){for(var z=u;z<s&&z<o;z++){k[z]&&(t[z]=q.placeholder)}}function p(){n.val(t.join(""))}function x(z){var s,B=n.val(),A=-1,u=0;for(pos=0;u<o;u++){if(k[u]){for(t[u]=q.placeholder;pos++<B.length;){if(s=B.charAt(pos-1),k[u].test(s)){t[u]=s,A=u;break}}if(pos>B.length){break}}else{t[u]===B.charAt(pos)&&u!==l&&(pos++,A=u)}}return z?p():A+1<l?(n.val(""),v(0,o)):(p(),n.val(n.val().substring(0,A+1))),l?u:b}n.data(h.mask.dataName,function(){return h.map(t,function(u,s){return k[s]&&u!=q.placeholder?u:null}).join("")}),n.attr("readonly")||n.one("unmask",function(){n.unbind(".mask").removeData(h.mask.dataName)}).bind("focus.mask",function(){var s;clearTimeout(a),w=n.val(),s=x(),a=setTimeout(function(){p(),s==e.length?n.caret(0,s):n.caret(s)},10)}).bind("blur.mask",function(){x(),n.val()!=w&&n.change()}).bind("keydown.mask",function(u){var s,A,z=u.which;8===z||46===z||f&&127===z?(s=(A=n.caret()).begin,(A=A.end)-s==0&&(s=46!==z?function(B){for(;0<=--B&&!k[B];){}return B}(s):A=m(s-1),A=46===z?m(A):A),v(s,A),y(s,A-1),u.preventDefault()):27==z&&(n.val(w),n.caret(0,x()),u.preventDefault())}).bind("keypress.mask",function(u){var s=u.which,z=n.caret();u.ctrlKey||u.altKey||u.metaKey||s<32||s&&(z.end-z.begin!=0&&(v(z.begin,z.end),y(z.begin,z.end-1)),(z=m(z.begin-1))<o&&(s=String.fromCharCode(s),k[z].test(s)&&(function(C){for(var A,E,D=C,B=q.placeholder;D<o;D++){if(k[D]){if(A=m(D),E=t[D],t[D]=B,!(A<o&&k[A].test(E))){break}B=E}}}(z),t[z]=s,p(),z=m(z),i?setTimeout(h.proxy(h.fn.caret,n,z),0):n.caret(z),q.completed&&o<=z&&q.completed.call(n))),u.preventDefault())}).bind(c,function(){setTimeout(function(){var s=x(!0);n.caret(s),q.completed&&s==n.val().length&&q.completed.call(n)},0)}),x()}))}})}(jQuery),jQuery.fn.extend({getSelection:function(){var a=this.get(0);return a?(("selectionStart" in a?function(){var b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value.substr(a.selectionStart,b)}}:window.getSelection()&&function(){var b=window.getSelection().getRangeAt(0);return{start:b.startOffset,end:b.endOffset,length:b.endOffset-b.startOffset,text:b.toString()}})||document.selection&&function(){a.focus();var c=document.selection.createRange();if(null===c){return{start:0,end:a.value.length,length:0}}var b=a.createTextRange(),d=b.duplicate();return b.moveToBookmark(c.getBookmark()),d.setEndPoint("EndToStart",b),{start:d.text.length,end:d.text.length+c.text.length,length:c.text.length,text:c.text}}||function(){return null})():null},setSelection:function(b,a){var c=this.get(0);c&&(c.setSelectionRange?(c.focus(),c.setSelectionRange(b,a)):c.createTextRange&&((c=c.createTextRange()).collapse(!0),c.moveEnd("character",a),c.moveStart("character",b),c.select()))},replaceSelection:function(){var b=this.get(0);if(!b){return null}var a=arguments[0]||"";return(("selectionStart" in b?function(){return b.value=b.value.substr(0,b.selectionStart)+a+b.value.substr(b.selectionEnd,b.value.length),this}:document.selection&&function(){return b.focus(),document.selection.createRange().text=a,this})||function(){return b.value+=a,jQuery(b)})()}}),jQuery.cookie=function(c,a,f){if(1<arguments.length&&"[object Object]"!==String(a)){return f=jQuery.extend({},f),null==a&&(f.expires=-1),"number"==typeof f.expires&&(d=f.expires,(b=f.expires=new Date).setDate(b.getDate()+d)),a=String(a),document.cookie=[encodeURIComponent(c),"=",f.raw?a:encodeURIComponent(a),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}var d,b=(f=a||{}).raw?function(g){return g}:decodeURIComponent;return(d=new RegExp("(?:^|; )"+encodeURIComponent(c)+"=([^;]*)").exec(document.cookie))?b(d[1]):null},function(b){var a=b.scrollTo=function(f,d,g){b(window).scrollTo(f,d,g)};function c(d){return"object"==typeof d?d:{top:d,left:d}}a.defaults={axis:"xy",duration:1.3<=parseFloat(b.fn.jquery)?0:1,limit:!0},a.window=function(d){return b(window)._scrollable()},b.fn._scrollable=function(){return this.map(function(){var d=this;if(!(!d.nodeName||-1!=b.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"]))){return d}d=(d.contentWindow||d).document||d.ownerDocument||d;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},b.fn.scrollTo=function(d,f,e){return"object"==typeof f&&(e=f,f=0),"function"==typeof e&&(e={onAfter:e}),"max"==d&&(d=9000000000),e=b.extend({},a.defaults,e),f=f||e.duration,e.queue=e.queue&&1<e.axis.length,e.queue&&(f/=2),e.offset=c(e.offset),e.over=c(e.over),this._scrollable().each(function(){if(null!=d){var g,o=this,k=b(o),i=d,m={},n=k.is("html,body");switch(typeof i){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(i)){i=c(i);break}if(!(i=b(i,this)).length){return}case"object":(i.is||i.style)&&(g=(i=b(i)).offset())}b.each(e.axis.split(""),function(s,p){var v="x"==p?"Left":"Top",u=v.toLowerCase(),q="scroll"+v,h=o[q],l=a.max(o,p);g?(m[q]=g[u]+(n?0:h-k.offset()[u]),e.margin&&(m[q]-=parseInt(i.css("margin"+v))||0,m[q]-=parseInt(i.css("border"+v+"Width"))||0),m[q]+=e.offset[u]||0,e.over[u]&&(m[q]+=i["x"==p?"width":"height"]()*e.over[u])):(u=i[u],m[q]=u.slice&&"%"==u.slice(-1)?parseFloat(u)/100*l:u),e.limit&&/^\d+$/.test(m[q])&&(m[q]=m[q]<=0?0:Math.min(m[q],l)),!s&&e.queue&&(h!=m[q]&&j(e.onAfterFirst),delete m[q])}),j(e.onAfter)}function j(h){k.animate(m,f,e.easing,h&&function(){h.call(this,d,e)})}}).end()},a.max=function(f,d){var h="x"==d?"Width":"Height",g="scroll"+h;if(!b(f).is("html,body")){return f[g]-b(f)[h.toLowerCase()]()}d="client"+h,h=f.ownerDocument.documentElement,f=f.ownerDocument.body;return Math.max(h[g],f[g])-Math.min(h[d],f[d])}}(jQuery),jQuery.fn.css2=jQuery.fn.css,jQuery.fn.css=function(){if(arguments.length){return jQuery.fn.css2.apply(this,arguments)}for(var b=["font-family","font-size","font-weight","font-style","color","box-sizing","text-transform","text-decoration","letter-spacing","box-shadow","line-height","text-align","vertical-align","direction","background-color","background-image","background-repeat","background-position","background-attachment","opacity","width","height","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","position","display","visibility","z-index","overflow-x","overflow-y","white-space","clip","float","clear","cursor","list-style-image","list-style-position","list-style-type","marker-offset","word-wrap","word-break","word-spacing"],a=b.length,d={},c=0;c<a;c++){d[b[c]]=jQuery.fn.css2.call(this,b[c])}return d};